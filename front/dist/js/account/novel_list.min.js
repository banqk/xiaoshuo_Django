function NovelList(){}NovelList.prototype.initDatePicker=function(){var t=$("#start-picker"),e=$("#end-picker"),n=new Date,i={showButtonPanel:!0,format:"yyyy/mm/dd",startDate:"2019/11/1",endDate:n.getFullYear()+"/"+(n.getMonth()+1)+"/"+n.getDate(),language:"zh-CN",todayBtn:"linked",todayHeightLight:!0,clearBtn:!0,autoclose:!0};t.datepicker(i),e.datepicker(i)},NovelList.prototype.listenUpdateEvent=function(){$(".update-btn").click(function(){var t=$(this).parents("tr").attr("data-novel-id"),e=$(this).attr("data-finish");console.log(e);var n="/account/write_chapter/?novel_id="+t;"True"===e?xfzalert.alertConfirm({title:"更新",text:"该小说已完结，确定要改为连载状态吗？",confirmCallback:function(){myajax.post({url:"/account/set_serialize/",data:{novel_id:t},success:function(t){200===t.code&&(window.location=n)}})}}):window.location=n})},NovelList.prototype.listenDeleteNovelEvent=function(){$(".delete-btn").click(function(){var t=$(this).attr("data-novel-id");xfzalert.alertConfirm({text:"您确定要删除这个小说吗？",confirmCallback:function(){myajax.post({url:"/account/delete_novel/",data:{novel_id:t},success:function(t){200===t.code&&(xfzalert.alertSuccessToast("删除成功"),setTimeout(function(){window.location=window.location.href},1e3))}})}})})},NovelList.prototype.listenSetFinishEvent=function(){$(".set-finish-btn").click(function(){var t=$(this).parents("tr").attr("data-novel-id");xfzalert.alertConfirm({text:"您确定要将该小说设置为完结？",confirmCallback:function(){myajax.post({url:"/account/set_finish/",data:{novel_id:t},success:function(t){200===t.code&&(xfzalert.alertSuccessToast("设置成功"),setTimeout(function(){window.location=window.location.href},1e3))}})}})})},NovelList.prototype.run=function(){this.initDatePicker(),this.listenDeleteNovelEvent(),this.listenSetFinishEvent(),this.listenUpdateEvent()},$(function(){(new NovelList).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjY291bnQvbm92ZWxfbGlzdC5qcyJdLCJuYW1lcyI6WyJOb3ZlbExpc3QiLCJwcm90b3R5cGUiLCJpbml0RGF0ZVBpY2tlciIsInN0YXJ0UGlja2VyIiwiJCIsImVuZFBpY2tlciIsInRvZGF5RGF0ZSIsIkRhdGUiLCJvcHRpb25zIiwic2hvd0J1dHRvblBhbmVsIiwiZm9ybWF0Iiwic3RhcnREYXRlIiwiZW5kRGF0ZSIsImdldEZ1bGxZZWFyIiwiZ2V0TW9udGgiLCJnZXREYXRlIiwibGFuZ3VhZ2UiLCJ0b2RheUJ0biIsInRvZGF5SGVpZ2h0TGlnaHQiLCJjbGVhckJ0biIsImF1dG9jbG9zZSIsImRhdGVwaWNrZXIiLCJsaXN0ZW5VcGRhdGVFdmVudCIsImNsaWNrIiwibm92ZWxJZCIsInRoaXMiLCJwYXJlbnRzIiwiYXR0ciIsImlzQ29tcGxldGUiLCJjb25zb2xlIiwibG9nIiwibGlua190byIsInhmemFsZXJ0IiwiYWxlcnRDb25maXJtIiwidGl0bGUiLCJ0ZXh0IiwiY29uZmlybUNhbGxiYWNrIiwibXlhamF4IiwicG9zdCIsInVybCIsImRhdGEiLCJub3ZlbF9pZCIsInN1Y2Nlc3MiLCJyZXN1bHQiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImxpc3RlbkRlbGV0ZU5vdmVsRXZlbnQiLCJhbGVydFN1Y2Nlc3NUb2FzdCIsInNldFRpbWVvdXQiLCJocmVmIiwibGlzdGVuU2V0RmluaXNoRXZlbnQiLCJydW4iXSwibWFwcGluZ3MiOiJBQUFBLFNBQVNBLGFBSVRBLFVBQVVDLFVBQVVDLGVBQWlCLFdBQ2pDLElBQUlDLEVBQWNDLEVBQUUsaUJBQ2hCQyxFQUFZRCxFQUFFLGVBQ2RFLEVBQVksSUFBSUMsS0FFaEJDLEVBQVUsQ0FDVkMsaUJBQW1CLEVBQ25CQyxPQUFVLGFBQ1ZDLFVBQWEsWUFDYkMsUUFMV04sRUFBVU8sY0FBZ0IsS0FBT1AsRUFBVVEsV0FBVyxHQUFLLElBQU1SLEVBQVVTLFVBTXRGQyxTQUFZLFFBQ1pDLFNBQVksU0FDWkMsa0JBQW9CLEVBQ3BCQyxVQUFZLEVBQ1pDLFdBQWEsR0FHakJqQixFQUFZa0IsV0FBV2IsR0FDdkJILEVBQVVnQixXQUFXYixJQUl6QlIsVUFBVUMsVUFBVXFCLGtCQUFvQixXQUNwQ2xCLEVBQUUsZUFBZW1CLE1BQU0sV0FDbkIsSUFBSUMsRUFBVXBCLEVBQUVxQixNQUFNQyxRQUFRLE1BQU1DLEtBQUssaUJBQ3JDQyxFQUFheEIsRUFBRXFCLE1BQU1FLEtBQUssZUFDOUJFLFFBQVFDLElBQUlGLEdBQ1osSUFBSUcsRUFBVSxvQ0FBc0NQLEVBQ2xDLFNBQWZJLEVBQ0NJLFNBQVNDLGFBQWEsQ0FDbEJDLE1BQVMsS0FDVEMsS0FBUSxxQkFDUkMsZ0JBQW1CLFdBQ2ZDLE9BQU9DLEtBQUssQ0FDUkMsSUFBTywwQkFDUEMsS0FBUSxDQUNKQyxTQUFZakIsR0FFaEJrQixRQUFXLFNBQVNDLEdBQ00sTUFBbkJBLEVBQWEsT0FDWkMsT0FBT0MsU0FBV2QsU0FPdENhLE9BQU9DLFNBQVdkLEtBTTlCL0IsVUFBVUMsVUFBVTZDLHVCQUF5QixXQUN6QjFDLEVBQUUsZUFDUm1CLE1BQU0sV0FDWixJQUFJQyxFQUFVcEIsRUFBRXFCLE1BQU1FLEtBQUssaUJBQzNCSyxTQUFTQyxhQUFhLENBQ2xCRSxLQUFRLGVBQ1JDLGdCQUFtQixXQUNmQyxPQUFPQyxLQUFLLENBQ1JDLElBQU8seUJBQ1BDLEtBQVEsQ0FDSkMsU0FBWWpCLEdBRWhCa0IsUUFBVyxTQUFTQyxHQUNNLE1BQW5CQSxFQUFhLE9BQ1pYLFNBQVNlLGtCQUFrQixRQUMzQkMsV0FBVyxXQUNQSixPQUFPQyxTQUFXRCxPQUFPQyxTQUFTSSxNQUNwQyxlQVU5QmpELFVBQVVDLFVBQVVpRCxxQkFBdUIsV0FDdkM5QyxFQUFFLG1CQUFtQm1CLE1BQU0sV0FDdkIsSUFBSUMsRUFBVXBCLEVBQUVxQixNQUFNQyxRQUFRLE1BQU1DLEtBQUssaUJBQ3pDSyxTQUFTQyxhQUFhLENBQ2xCRSxLQUFRLGlCQUNSQyxnQkFBbUIsV0FDZkMsT0FBT0MsS0FBSyxDQUNSQyxJQUFPLHVCQUNQQyxLQUFRLENBQ0pDLFNBQVlqQixHQUVoQmtCLFFBQVcsU0FBU0MsR0FDTSxNQUFuQkEsRUFBYSxPQUNaWCxTQUFTZSxrQkFBa0IsUUFDM0JDLFdBQVcsV0FDUEosT0FBT0MsU0FBV0QsT0FBT0MsU0FBU0ksTUFDcEMsZUFTOUJqRCxVQUFVQyxVQUFVa0QsSUFBTSxXQUN0QjFCLEtBQUt2QixpQkFDTHVCLEtBQUtxQix5QkFDTHJCLEtBQUt5Qix1QkFDTHpCLEtBQUtILHFCQUlUbEIsRUFBRSxZQUNrQixJQUFJSixXQUNWbUQiLCJmaWxlIjoiYWNjb3VudC9ub3ZlbF9saXN0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIE5vdmVsTGlzdCgpe1xyXG5cclxufVxyXG4vLyDliJ3lp4vljJbml7bpl7TpgInmi6nmoYZcclxuTm92ZWxMaXN0LnByb3RvdHlwZS5pbml0RGF0ZVBpY2tlciA9IGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgc3RhcnRQaWNrZXIgPSAkKCcjc3RhcnQtcGlja2VyJyk7XHJcbiAgICB2YXIgZW5kUGlja2VyID0gJCgnI2VuZC1waWNrZXInKTtcclxuICAgIHZhciB0b2RheURhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgdmFyIHRvZGF5U3RyID0gdG9kYXlEYXRlLmdldEZ1bGxZZWFyKCkgKyAnLycgKyAodG9kYXlEYXRlLmdldE1vbnRoKCkrMSkgKyAnLycgKyB0b2RheURhdGUuZ2V0RGF0ZSgpO1xyXG4gICAgdmFyIG9wdGlvbnMgPSB7XHJcbiAgICAgICAgJ3Nob3dCdXR0b25QYW5lbCc6IHRydWUsXHJcbiAgICAgICAgJ2Zvcm1hdCc6ICd5eXl5L21tL2RkJyxcclxuICAgICAgICAnc3RhcnREYXRlJzogJzIwMTkvMTEvMScsXHJcbiAgICAgICAgJ2VuZERhdGUnOiB0b2RheVN0cixcclxuICAgICAgICAnbGFuZ3VhZ2UnOiAnemgtQ04nLFxyXG4gICAgICAgICd0b2RheUJ0bic6ICdsaW5rZWQnLFxyXG4gICAgICAgICd0b2RheUhlaWdodExpZ2h0JzogdHJ1ZSxcclxuICAgICAgICAnY2xlYXJCdG4nOiB0cnVlLFxyXG4gICAgICAgICdhdXRvY2xvc2UnOiB0cnVlLFxyXG4gICAgfTtcclxuXHJcbiAgICBzdGFydFBpY2tlci5kYXRlcGlja2VyKG9wdGlvbnMpO1xyXG4gICAgZW5kUGlja2VyLmRhdGVwaWNrZXIob3B0aW9ucyk7XHJcbn07XHJcblxyXG4vLyDnm5HlkKzmm7TmlrDkuovku7ZcclxuTm92ZWxMaXN0LnByb3RvdHlwZS5saXN0ZW5VcGRhdGVFdmVudCA9IGZ1bmN0aW9uKCl7XHJcbiAgICAkKCcudXBkYXRlLWJ0bicpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgdmFyIG5vdmVsSWQgPSAkKHRoaXMpLnBhcmVudHMoJ3RyJykuYXR0cignZGF0YS1ub3ZlbC1pZCcpO1xyXG4gICAgICAgIHZhciBpc0NvbXBsZXRlID0gJCh0aGlzKS5hdHRyKCdkYXRhLWZpbmlzaCcpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGlzQ29tcGxldGUpO1xyXG4gICAgICAgIHZhciBsaW5rX3RvID0gJy9hY2NvdW50L3dyaXRlX2NoYXB0ZXIvP25vdmVsX2lkPScgKyBub3ZlbElkO1xyXG4gICAgICAgIGlmKGlzQ29tcGxldGUgPT09ICdUcnVlJyl7XHJcbiAgICAgICAgICAgIHhmemFsZXJ0LmFsZXJ0Q29uZmlybSh7XHJcbiAgICAgICAgICAgICAgICAndGl0bGUnOiAn5pu05pawJyxcclxuICAgICAgICAgICAgICAgICd0ZXh0JzogJ+ivpeWwj+ivtOW3suWujOe7k++8jOehruWumuimgeaUueS4uui/nui9veeKtuaAgeWQl++8nycsXHJcbiAgICAgICAgICAgICAgICAnY29uZmlybUNhbGxiYWNrJzogZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICBteWFqYXgucG9zdCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICd1cmwnOiAnL2FjY291bnQvc2V0X3NlcmlhbGl6ZS8nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnZGF0YSc6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdub3ZlbF9pZCc6IG5vdmVsSWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnOiBmdW5jdGlvbihyZXN1bHQpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYocmVzdWx0Wydjb2RlJ10gPT09IDIwMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uID0gbGlua190bztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSBlbHNle1xyXG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24gPSBsaW5rX3RvO1xyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbn07XHJcblxyXG4vLyDnm5HlkKzliKDpmaTnq6DoioLkuovku7ZcclxuTm92ZWxMaXN0LnByb3RvdHlwZS5saXN0ZW5EZWxldGVOb3ZlbEV2ZW50ID0gZnVuY3Rpb24oKXtcclxuICAgIHZhciBkZWxldGVCdG4gPSAkKCcuZGVsZXRlLWJ0bicpO1xyXG4gICAgZGVsZXRlQnRuLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgdmFyIG5vdmVsSWQgPSAkKHRoaXMpLmF0dHIoJ2RhdGEtbm92ZWwtaWQnKTtcclxuICAgICAgICB4ZnphbGVydC5hbGVydENvbmZpcm0oe1xyXG4gICAgICAgICAgICAndGV4dCc6ICfmgqjnoa7lrpropoHliKDpmaTov5nkuKrlsI/or7TlkJfvvJ8nLFxyXG4gICAgICAgICAgICAnY29uZmlybUNhbGxiYWNrJzogZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIG15YWpheC5wb3N0KHtcclxuICAgICAgICAgICAgICAgICAgICAndXJsJzogJy9hY2NvdW50L2RlbGV0ZV9ub3ZlbC8nLFxyXG4gICAgICAgICAgICAgICAgICAgICdkYXRhJzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnbm92ZWxfaWQnOiBub3ZlbElkXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAnc3VjY2Vzcyc6IGZ1bmN0aW9uKHJlc3VsdCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHJlc3VsdFsnY29kZSddID09PSAyMDApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeGZ6YWxlcnQuYWxlcnRTdWNjZXNzVG9hc3QoJ+WIoOmZpOaIkOWKnycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbiA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwxMDAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufTtcclxuXHJcbi8vIOebkeWQrOiuvue9ruS4uuWujOe7k+S6i+S7tlxyXG5Ob3ZlbExpc3QucHJvdG90eXBlLmxpc3RlblNldEZpbmlzaEV2ZW50ID0gZnVuY3Rpb24oKXtcclxuICAgICQoJy5zZXQtZmluaXNoLWJ0bicpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgdmFyIG5vdmVsSWQgPSAkKHRoaXMpLnBhcmVudHMoJ3RyJykuYXR0cignZGF0YS1ub3ZlbC1pZCcpO1xyXG4gICAgICAgIHhmemFsZXJ0LmFsZXJ0Q29uZmlybSh7XHJcbiAgICAgICAgICAgICd0ZXh0JzogJ+aCqOehruWumuimgeWwhuivpeWwj+ivtOiuvue9ruS4uuWujOe7k++8nycsXHJcbiAgICAgICAgICAgICdjb25maXJtQ2FsbGJhY2snOiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgbXlhamF4LnBvc3Qoe1xyXG4gICAgICAgICAgICAgICAgICAgICd1cmwnOiAnL2FjY291bnQvc2V0X2ZpbmlzaC8nLFxyXG4gICAgICAgICAgICAgICAgICAgICdkYXRhJzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnbm92ZWxfaWQnOiBub3ZlbElkXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAnc3VjY2Vzcyc6IGZ1bmN0aW9uKHJlc3VsdCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHJlc3VsdFsnY29kZSddID09PSAyMDApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeGZ6YWxlcnQuYWxlcnRTdWNjZXNzVG9hc3QoJ+iuvue9ruaIkOWKnycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbiA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwxMDAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KVxyXG59O1xyXG5cclxuTm92ZWxMaXN0LnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbigpe1xyXG4gICAgdGhpcy5pbml0RGF0ZVBpY2tlcigpO1xyXG4gICAgdGhpcy5saXN0ZW5EZWxldGVOb3ZlbEV2ZW50KCk7XHJcbiAgICB0aGlzLmxpc3RlblNldEZpbmlzaEV2ZW50KCk7XHJcbiAgICB0aGlzLmxpc3RlblVwZGF0ZUV2ZW50KCk7XHJcbn07XHJcblxyXG5cclxuJChmdW5jdGlvbigpe1xyXG4gICAgdmFyIG5vdmVsTGlzdCA9IG5ldyBOb3ZlbExpc3QoKTtcclxuICAgIG5vdmVsTGlzdC5ydW4oKTtcclxufSk7Il19
