function Auth(){this.maskWrapper=$(".mask-wrapper"),this.scrollWrapper=$(".scroll-wrapper"),this.SmsCaptchaBtn=$(".sms-captcha-btn"),this.imgCaptcha=$(".img-captcha")}Auth.prototype.showEvent=function(){this.maskWrapper.show()},Auth.prototype.hideEvent=function(){this.maskWrapper.hide()},Auth.prototype.smsSuccessEvent=function(){var t=this;messageBox.showSuccess("短信验证码发送成功"),t.SmsCaptchaBtn.unbind("click"),t.SmsCaptchaBtn.addClass("disabled");var n=60,a=setInterval(function(){t.SmsCaptchaBtn.text("已发送("+n+"s)"),--n<=0&&(clearInterval(a),t.SmsCaptchaBtn.text("发送验证码"),t.SmsCaptchaBtn.removeClass("disabled"),t.listenSmsCaptchaEvent())},1e3)},Auth.prototype.listenShowHideEvent=function(){var t=this,n=$(".sign-in"),a=$(".sign-up"),e=$(".close-btn");n.click(function(){t.scrollWrapper.css({left:"0px"}),t.showEvent()}),a.click(function(){t.scrollWrapper.css({left:"-400px"}),t.imgCaptchaRefresh(),t.showEvent()}),e.click(function(){t.hideEvent()})},Auth.prototype.listenSwitchEvent=function(){var n=this;$(".switch").click(function(){var t=n.scrollWrapper.css("left");(t=parseInt(t))<0?n.scrollWrapper.animate({left:"0"}):(n.imgCaptchaRefresh(),n.scrollWrapper.animate({left:"-400px"}))})},Auth.prototype.listenSignInEvent=function(){var e=this,t=$(".signin-group"),s=t.find("input[name='telephone']"),i=t.find("input[name='password']"),c=t.find("input[name='remember']");t.find(".submit-btn").click(function(){var t=s.val(),n=i.val(),a=c.prop("checked");myajax.post({url:"/xsauth/login/",data:{telephone:t,password:n,remember:a?1:0},success:function(t){200===t.code&&(e.hideEvent(),window.location.reload())}})})},Auth.prototype.listenImgCaptchaEvent=function(){var t=this;t.imgCaptcha.click(function(){t.imgCaptchaRefresh()})},Auth.prototype.imgCaptchaRefresh=function(){this.imgCaptcha.attr("src","/xsauth/img_captcha/?random="+Math.random())},Auth.prototype.listenSmsCaptchaEvent=function(){var a=this,n=$(".signup-group input[name='telephone']"),e=$(".signup-group input[name='sms_captcha']");a.SmsCaptchaBtn.click(function(){var t=n.val();t?myajax.get({url:"/xsauth/sms_captcha/",data:{telephone:t},success:function(t){if(200===t.code){a.smsSuccessEvent();var n=t.data.code;e.val(n),console.log(n)}},fail:function(t){console.log(t)}}):messageBox.showInfo("请输入手机号码")})},Auth.prototype.listenSignUpEvent=function(){var t=$(".signup-group"),c=t.find("input[name='telephone']"),p=t.find("input[name='username']"),o=t.find("input[name='img_captcha']"),r=t.find("input[name='password1']"),h=t.find("input[name='password2']"),l=t.find("input[name='sms_captcha']");t.find(".submit-btn").click(function(){var t=c.val(),n=p.val(),a=o.val(),e=r.val(),s=h.val(),i=l.val();myajax.post({url:"/xsauth/register/",data:{telephone:t,username:n,img_captcha:a,password1:e,password2:s,sms_captcha:i},success:function(t){200===t.code&&window.location.reload()}})})},Auth.prototype.run=function(){this.listenShowHideEvent(),this.listenSwitchEvent(),this.listenSignInEvent(),this.listenImgCaptchaEvent(),this.listenSmsCaptchaEvent(),this.listenSignUpEvent()},$(function(){(new Auth).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGguanMiXSwibmFtZXMiOlsiQXV0aCIsInRoaXMiLCJtYXNrV3JhcHBlciIsIiQiLCJzY3JvbGxXcmFwcGVyIiwiU21zQ2FwdGNoYUJ0biIsImltZ0NhcHRjaGEiLCJwcm90b3R5cGUiLCJzaG93RXZlbnQiLCJzaG93IiwiaGlkZUV2ZW50IiwiaGlkZSIsInNtc1N1Y2Nlc3NFdmVudCIsInNlbGYiLCJtZXNzYWdlQm94Iiwic2hvd1N1Y2Nlc3MiLCJ1bmJpbmQiLCJhZGRDbGFzcyIsImNvdW50IiwidGltZXIiLCJzZXRJbnRlcnZhbCIsInRleHQiLCJjbGVhckludGVydmFsIiwicmVtb3ZlQ2xhc3MiLCJsaXN0ZW5TbXNDYXB0Y2hhRXZlbnQiLCJsaXN0ZW5TaG93SGlkZUV2ZW50Iiwic2lnbkluIiwic2lnblVwIiwiY2xvc2VCdG4iLCJjbGljayIsImNzcyIsImxlZnQiLCJpbWdDYXB0Y2hhUmVmcmVzaCIsImxpc3RlblN3aXRjaEV2ZW50IiwiY3VycmVudExlZnQiLCJwYXJzZUludCIsImFuaW1hdGUiLCJsaXN0ZW5TaWduSW5FdmVudCIsInNpZ25Jbkdyb3VwIiwidGVsZXBob25lSW5wdXQiLCJmaW5kIiwicGFzc3dvcmRJbnB1dCIsInJlbWVtYmVySW5wdXQiLCJ0ZWxlcGhvbmUiLCJ2YWwiLCJwYXNzd29yZCIsInJlbWVtYmVyIiwicHJvcCIsIm15YWpheCIsInBvc3QiLCJ1cmwiLCJkYXRhIiwic3VjY2VzcyIsInJlc3VsdCIsIndpbmRvdyIsImxvY2F0aW9uIiwicmVsb2FkIiwibGlzdGVuSW1nQ2FwdGNoYUV2ZW50IiwiYXR0ciIsIk1hdGgiLCJyYW5kb20iLCJpbnB1dFRlbGVwaG9uZSIsImlucHV0U21zQ29kZSIsImdldCIsImNvZGUiLCJjb25zb2xlIiwibG9nIiwiZmFpbCIsImVycm9yIiwic2hvd0luZm8iLCJsaXN0ZW5TaWduVXBFdmVudCIsInNpZ25VcEdyb3VwIiwidXNlcm5hbWVJbnB1dCIsImltZ0NhcHRjaGFJbnB1dCIsInBhc3N3b3JkMUlucHV0IiwicGFzc3dvcmQySW5wdXQiLCJzbXNDYXB0Y2hhSW5wdXQiLCJ1c2VybmFtZSIsImltZ19jYXB0Y2hhIiwicGFzc3dvcmQxIiwicGFzc3dvcmQyIiwic21zX2NhcHRjaGEiLCJydW4iXSwibWFwcGluZ3MiOiJBQUNBLFNBQVNBLE9BQ0xDLEtBQUtDLFlBQWNDLEVBQUUsaUJBQ3JCRixLQUFLRyxjQUFnQkQsRUFBRSxtQkFDdkJGLEtBQUtJLGNBQWdCRixFQUFFLG9CQUN2QkYsS0FBS0ssV0FBYUgsRUFBRSxnQkFJeEJILEtBQUtPLFVBQVVDLFVBQVksV0FDdkJQLEtBQUtDLFlBQVlPLFFBSXJCVCxLQUFLTyxVQUFVRyxVQUFZLFdBQ3ZCVCxLQUFLQyxZQUFZUyxRQUlyQlgsS0FBS08sVUFBVUssZ0JBQWtCLFdBQzdCLElBQUlDLEVBQU9aLEtBQ1hhLFdBQVdDLFlBQVksYUFDdkJGLEVBQUtSLGNBQWNXLE9BQU8sU0FDMUJILEVBQUtSLGNBQWNZLFNBQVMsWUFDNUIsSUFBSUMsRUFBUSxHQUVSQyxFQUFRQyxZQUFZLFdBQ3BCUCxFQUFLUixjQUFjZ0IsS0FBSyxPQUFPSCxFQUFNLFFBQ3JDQSxHQUNVLElBQ05JLGNBQWNILEdBQ2ROLEVBQUtSLGNBQWNnQixLQUFLLFNBQ3hCUixFQUFLUixjQUFja0IsWUFBWSxZQUMvQlYsRUFBS1csMEJBRVgsTUFJTnhCLEtBQUtPLFVBQVVrQixvQkFBc0IsV0FDakMsSUFBSVosRUFBT1osS0FDUHlCLEVBQVN2QixFQUFFLFlBQ1h3QixFQUFTeEIsRUFBRSxZQUNYeUIsRUFBV3pCLEVBQUUsY0FDakJ1QixFQUFPRyxNQUFNLFdBQ1RoQixFQUFLVCxjQUFjMEIsSUFBSSxDQUFDQyxLQUFPLFFBQy9CbEIsRUFBS0wsY0FFVG1CLEVBQU9FLE1BQU0sV0FDVGhCLEVBQUtULGNBQWMwQixJQUFJLENBQUNDLEtBQU8sV0FDL0JsQixFQUFLbUIsb0JBQ0xuQixFQUFLTCxjQUVUb0IsRUFBU0MsTUFBTSxXQUNYaEIsRUFBS0gsZUFLYlYsS0FBS08sVUFBVTBCLGtCQUFvQixXQUMvQixJQUFJcEIsRUFBT1osS0FDSUUsRUFBRSxXQUVSMEIsTUFBTSxXQUNYLElBQUlLLEVBQWNyQixFQUFLVCxjQUFjMEIsSUFBSSxTQUN6Q0ksRUFBY0MsU0FBU0QsSUFDTixFQUNickIsRUFBS1QsY0FBY2dDLFFBQVEsQ0FBQ0wsS0FBTyxPQUVuQ2xCLEVBQUttQixvQkFDTG5CLEVBQUtULGNBQWNnQyxRQUFRLENBQUNMLEtBQU8sZUFNL0MvQixLQUFLTyxVQUFVOEIsa0JBQW9CLFdBQy9CLElBQUl4QixFQUFPWixLQUNQcUMsRUFBY25DLEVBQUUsaUJBQ2hCb0MsRUFBaUJELEVBQVlFLEtBQUssMkJBQ2xDQyxFQUFnQkgsRUFBWUUsS0FBSywwQkFDakNFLEVBQWdCSixFQUFZRSxLQUFLLDBCQUVyQkYsRUFBWUUsS0FBSyxlQUN2QlgsTUFBTSxXQUNaLElBQUljLEVBQVlKLEVBQWVLLE1BQzNCQyxFQUFXSixFQUFjRyxNQUV6QkUsRUFBV0osRUFBY0ssS0FBSyxXQUVsQ0MsT0FBT0MsS0FBSyxDQUNSQyxJQUFPLGlCQUNQQyxLQUFRLENBQ0pSLFVBQWFBLEVBQ2JFLFNBQVlBLEVBQ1pDLFNBQVlBLEVBQVMsRUFBRSxHQUUzQk0sUUFBVyxTQUFTQyxHQUNNLE1BQW5CQSxFQUFhLE9BRVp4QyxFQUFLSCxZQUVMNEMsT0FBT0MsU0FBU0MsZ0JBUXBDeEQsS0FBS08sVUFBVWtELHNCQUF3QixXQUNuQyxJQUFJNUMsRUFBT1osS0FDWFksRUFBS1AsV0FBV3VCLE1BQU0sV0FFbEJoQixFQUFLbUIsdUJBS2JoQyxLQUFLTyxVQUFVeUIsa0JBQW9CLFdBQy9CL0IsS0FBS0ssV0FBV29ELEtBQUssTUFBTSwrQkFBa0NDLEtBQUtDLFdBSXRFNUQsS0FBS08sVUFBVWlCLHNCQUF3QixXQUNuQyxJQUFJWCxFQUFPWixLQUNQNEQsRUFBaUIxRCxFQUFFLHlDQUNuQjJELEVBQWUzRCxFQUFFLDJDQUNyQlUsRUFBS1IsY0FBY3dCLE1BQU0sV0FDckIsSUFBSWMsRUFBWWtCLEVBQWVqQixNQUMzQkQsRUFHQUssT0FBT2UsSUFBSSxDQUNQYixJQUFPLHVCQUNQQyxLQUFRLENBQ0pSLFVBQWFBLEdBRWpCUyxRQUFXLFNBQVNDLEdBQ2hCLEdBQXNCLE1BQW5CQSxFQUFhLEtBQVUsQ0FDdEJ4QyxFQUFLRCxrQkFDTCxJQUFJb0QsRUFBT1gsRUFBYSxLQUFRLEtBQ2hDUyxFQUFhbEIsSUFBSW9CLEdBQ2pCQyxRQUFRQyxJQUFJRixLQUdwQkcsS0FBUSxTQUFTQyxHQUNiSCxRQUFRQyxJQUFJRSxNQWhCcEJ0RCxXQUFXdUQsU0FBUyxjQXdCaENyRSxLQUFLTyxVQUFVK0Qsa0JBQW9CLFdBQy9CLElBQUlDLEVBQWNwRSxFQUFFLGlCQUNoQm9DLEVBQWlCZ0MsRUFBWS9CLEtBQUssMkJBQ2xDZ0MsRUFBZ0JELEVBQVkvQixLQUFLLDBCQUNqQ2lDLEVBQWtCRixFQUFZL0IsS0FBSyw2QkFDbkNrQyxFQUFpQkgsRUFBWS9CLEtBQUssMkJBQ2xDbUMsRUFBaUJKLEVBQVkvQixLQUFLLDJCQUNsQ29DLEVBQWtCTCxFQUFZL0IsS0FBSyw2QkFFdkIrQixFQUFZL0IsS0FBSyxlQUN2QlgsTUFBTSxXQUNaLElBQUljLEVBQVlKLEVBQWVLLE1BQzNCaUMsRUFBV0wsRUFBYzVCLE1BQ3pCa0MsRUFBY0wsRUFBZ0I3QixNQUM5Qm1DLEVBQVlMLEVBQWU5QixNQUMzQm9DLEVBQVlMLEVBQWUvQixNQUMzQnFDLEVBQWNMLEVBQWdCaEMsTUFFbENJLE9BQU9DLEtBQUssQ0FDUkMsSUFBTyxvQkFDUEMsS0FBUSxDQUNKUixVQUFhQSxFQUNia0MsU0FBWUEsRUFDWkMsWUFBZUEsRUFDZkMsVUFBYUEsRUFDYkMsVUFBYUEsRUFDYkMsWUFBZUEsR0FFbkI3QixRQUFXLFNBQVNDLEdBQ00sTUFBbkJBLEVBQWEsTUFDWkMsT0FBT0MsU0FBU0MsZUFRcEN4RCxLQUFLTyxVQUFVMkUsSUFBTSxXQUNqQmpGLEtBQUt3QixzQkFDTHhCLEtBQUtnQyxvQkFDTGhDLEtBQUtvQyxvQkFDTHBDLEtBQUt3RCx3QkFDTHhELEtBQUt1Qix3QkFDTHZCLEtBQUtxRSxxQkFJVG5FLEVBQUUsWUFDYSxJQUFJSCxNQUNWa0YiLCJmaWxlIjoiYXV0aC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyDnlKjmnaXlpITnkIbnmbvlvZXlkozms6jlhoxcclxuZnVuY3Rpb24gQXV0aCgpe1xyXG4gICAgdGhpcy5tYXNrV3JhcHBlciA9ICQoJy5tYXNrLXdyYXBwZXInKTtcclxuICAgIHRoaXMuc2Nyb2xsV3JhcHBlciA9ICQoJy5zY3JvbGwtd3JhcHBlcicpO1xyXG4gICAgdGhpcy5TbXNDYXB0Y2hhQnRuID0gJCgnLnNtcy1jYXB0Y2hhLWJ0bicpO1xyXG4gICAgdGhpcy5pbWdDYXB0Y2hhID0gJChcIi5pbWctY2FwdGNoYVwiKTtcclxufVxyXG5cclxuLy8g5pi+56S65qih5oCB5a+56K+d5qGGXHJcbkF1dGgucHJvdG90eXBlLnNob3dFdmVudCA9IGZ1bmN0aW9uKCl7XHJcbiAgICB0aGlzLm1hc2tXcmFwcGVyLnNob3coKVxyXG59O1xyXG5cclxuLy8g6ZqQ6JeP5qih5oCB5a+56K+d5qGGXHJcbkF1dGgucHJvdG90eXBlLmhpZGVFdmVudCA9IGZ1bmN0aW9uKCl7XHJcbiAgICB0aGlzLm1hc2tXcmFwcGVyLmhpZGUoKVxyXG59O1xyXG5cclxuLy8g55+t5L+h6aqM6K+B56CB5Y+R6YCB5oiQ5YqfXHJcbkF1dGgucHJvdG90eXBlLnNtc1N1Y2Nlc3NFdmVudCA9IGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXNcclxuICAgIG1lc3NhZ2VCb3guc2hvd1N1Y2Nlc3MoXCLnn63kv6Hpqozor4HnoIHlj5HpgIHmiJDlip9cIilcclxuICAgIHNlbGYuU21zQ2FwdGNoYUJ0bi51bmJpbmQoJ2NsaWNrJylcclxuICAgIHNlbGYuU21zQ2FwdGNoYUJ0bi5hZGRDbGFzcygnZGlzYWJsZWQnKVxyXG4gICAgdmFyIGNvdW50ID0gNjBcclxuICAgIC8vIOa3u+WKoOWumuaXtuWZqO+8jOavj+enkuaJp+ihjOS4gOasoe+8jDYw56eS5ZCO57uI5q2iXHJcbiAgICB2YXIgdGltZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpe1xyXG4gICAgICAgIHNlbGYuU21zQ2FwdGNoYUJ0bi50ZXh0KCflt7Llj5HpgIEoJytjb3VudCsncyknKVxyXG4gICAgICAgIGNvdW50LS1cclxuICAgICAgICBpZihjb3VudDw9MCl7XHJcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXIpXHJcbiAgICAgICAgICAgIHNlbGYuU21zQ2FwdGNoYUJ0bi50ZXh0KCflj5HpgIHpqozor4HnoIEnKVxyXG4gICAgICAgICAgICBzZWxmLlNtc0NhcHRjaGFCdG4ucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJylcclxuICAgICAgICAgICAgc2VsZi5saXN0ZW5TbXNDYXB0Y2hhRXZlbnQoKVxyXG4gICAgICAgIH1cclxuICAgIH0sMTAwMClcclxufTtcclxuXHJcbi8vIOebkeWQrOaooeaAgeWvueivneahhuaYvuekuuS4jumakOiXj+S6i+S7tlxyXG5BdXRoLnByb3RvdHlwZS5saXN0ZW5TaG93SGlkZUV2ZW50ID0gZnVuY3Rpb24oKXtcclxuICAgIHZhciBzZWxmID0gdGhpc1xyXG4gICAgdmFyIHNpZ25JbiA9ICQoJy5zaWduLWluJylcclxuICAgIHZhciBzaWduVXAgPSAkKCcuc2lnbi11cCcpXHJcbiAgICB2YXIgY2xvc2VCdG4gPSAkKCcuY2xvc2UtYnRuJylcclxuICAgIHNpZ25Jbi5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgICAgIHNlbGYuc2Nyb2xsV3JhcHBlci5jc3MoeydsZWZ0JzonMHB4J30pXHJcbiAgICAgICAgc2VsZi5zaG93RXZlbnQoKVxyXG4gICAgfSlcclxuICAgIHNpZ25VcC5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgICAgIHNlbGYuc2Nyb2xsV3JhcHBlci5jc3MoeydsZWZ0JzonLTQwMHB4J30pO1xyXG4gICAgICAgIHNlbGYuaW1nQ2FwdGNoYVJlZnJlc2goKTtcclxuICAgICAgICBzZWxmLnNob3dFdmVudCgpO1xyXG4gICAgfSlcclxuICAgIGNsb3NlQnRuLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgc2VsZi5oaWRlRXZlbnQoKVxyXG4gICAgfSlcclxufTtcclxuXHJcbi8vIOebkeWQrOaooeaAgeWvueivneahhuWIh+aNouS6i+S7tlxyXG5BdXRoLnByb3RvdHlwZS5saXN0ZW5Td2l0Y2hFdmVudCA9IGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXNcclxuICAgIHZhciBzd2l0Y2hlciA9ICQoJy5zd2l0Y2gnKVxyXG5cclxuICAgIHN3aXRjaGVyLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgdmFyIGN1cnJlbnRMZWZ0ID0gc2VsZi5zY3JvbGxXcmFwcGVyLmNzcygnbGVmdCcpXHJcbiAgICAgICAgY3VycmVudExlZnQgPSBwYXJzZUludChjdXJyZW50TGVmdClcclxuICAgICAgICBpZihjdXJyZW50TGVmdCA8IDApe1xyXG4gICAgICAgICAgICBzZWxmLnNjcm9sbFdyYXBwZXIuYW5pbWF0ZSh7J2xlZnQnOicwJ30pXHJcbiAgICAgICAgfSBlbHNle1xyXG4gICAgICAgICAgICBzZWxmLmltZ0NhcHRjaGFSZWZyZXNoKCk7XHJcbiAgICAgICAgICAgIHNlbGYuc2Nyb2xsV3JhcHBlci5hbmltYXRlKHsnbGVmdCc6Jy00MDBweCd9KVxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbn07XHJcblxyXG4vLyDnm5HlkKznmbvlvZXkuovku7ZcclxuQXV0aC5wcm90b3R5cGUubGlzdGVuU2lnbkluRXZlbnQgPSBmdW5jdGlvbigpe1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzXHJcbiAgICB2YXIgc2lnbkluR3JvdXAgPSAkKCcuc2lnbmluLWdyb3VwJylcclxuICAgIHZhciB0ZWxlcGhvbmVJbnB1dCA9IHNpZ25Jbkdyb3VwLmZpbmQoXCJpbnB1dFtuYW1lPSd0ZWxlcGhvbmUnXVwiKVxyXG4gICAgdmFyIHBhc3N3b3JkSW5wdXQgPSBzaWduSW5Hcm91cC5maW5kKFwiaW5wdXRbbmFtZT0ncGFzc3dvcmQnXVwiKVxyXG4gICAgdmFyIHJlbWVtYmVySW5wdXQgPSBzaWduSW5Hcm91cC5maW5kKFwiaW5wdXRbbmFtZT0ncmVtZW1iZXInXVwiKVxyXG5cclxuICAgIHZhciBzaWduSW5CdG4gPSBzaWduSW5Hcm91cC5maW5kKCcuc3VibWl0LWJ0bicpXHJcbiAgICBzaWduSW5CdG4uY2xpY2soZnVuY3Rpb24oKXtcclxuICAgICAgICB2YXIgdGVsZXBob25lID0gdGVsZXBob25lSW5wdXQudmFsKClcclxuICAgICAgICB2YXIgcGFzc3dvcmQgPSBwYXNzd29yZElucHV0LnZhbCgpXHJcbiAgICAgICAgLy8g6I635Y+W5aSN6YCJ5qGG5piv5ZCm5Yu+6YCJICBUcnVlL0ZhbHNlXHJcbiAgICAgICAgdmFyIHJlbWVtYmVyID0gcmVtZW1iZXJJbnB1dC5wcm9wKFwiY2hlY2tlZFwiKVxyXG5cclxuICAgICAgICBteWFqYXgucG9zdCh7XHJcbiAgICAgICAgICAgICd1cmwnOiAnL3hzYXV0aC9sb2dpbi8nLFxyXG4gICAgICAgICAgICAnZGF0YSc6IHtcclxuICAgICAgICAgICAgICAgICd0ZWxlcGhvbmUnOiB0ZWxlcGhvbmUsXHJcbiAgICAgICAgICAgICAgICAncGFzc3dvcmQnOiBwYXNzd29yZCxcclxuICAgICAgICAgICAgICAgICdyZW1lbWJlcic6IHJlbWVtYmVyPzE6MCxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ3N1Y2Nlc3MnOiBmdW5jdGlvbihyZXN1bHQpe1xyXG4gICAgICAgICAgICAgICAgaWYocmVzdWx0Wydjb2RlJ10gPT09IDIwMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8g6ZqQ6JeP5qih5oCB5qGGXHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5oaWRlRXZlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyDliLfmlrDpobXpnaJcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG59O1xyXG5cclxuLy8g6I635Y+W5Zu+5b2i6aqM6K+B56CBXHJcbkF1dGgucHJvdG90eXBlLmxpc3RlbkltZ0NhcHRjaGFFdmVudCA9IGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLmltZ0NhcHRjaGEuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgICAgICAvLyDlm77niYflnLDlnYDmlLnlj5jlm77niYflsLHkvJrmm7TmlrBcclxuICAgICAgICBzZWxmLmltZ0NhcHRjaGFSZWZyZXNoKCk7XHJcbiAgICB9KVxyXG59O1xyXG5cclxuLy8g5Yi35paw5Zu+5b2i6aqM6K+B56CBXHJcbkF1dGgucHJvdG90eXBlLmltZ0NhcHRjaGFSZWZyZXNoID0gZnVuY3Rpb24oKXtcclxuICAgIHRoaXMuaW1nQ2FwdGNoYS5hdHRyKCdzcmMnLCcveHNhdXRoL2ltZ19jYXB0Y2hhLycrJz9yYW5kb209JytNYXRoLnJhbmRvbSgpKVxyXG59O1xyXG5cclxuLy8g55uR5ZCs5Y+R6YCB55+t5L+h6aqM6K+B56CBXHJcbkF1dGgucHJvdG90eXBlLmxpc3RlblNtc0NhcHRjaGFFdmVudCA9IGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXNcclxuICAgIHZhciBpbnB1dFRlbGVwaG9uZSA9ICQoXCIuc2lnbnVwLWdyb3VwIGlucHV0W25hbWU9J3RlbGVwaG9uZSddXCIpO1xyXG4gICAgdmFyIGlucHV0U21zQ29kZSA9ICQoXCIuc2lnbnVwLWdyb3VwIGlucHV0W25hbWU9J3Ntc19jYXB0Y2hhJ11cIik7XHJcbiAgICBzZWxmLlNtc0NhcHRjaGFCdG4uY2xpY2soZnVuY3Rpb24oKXtcclxuICAgICAgICB2YXIgdGVsZXBob25lID0gaW5wdXRUZWxlcGhvbmUudmFsKClcclxuICAgICAgICBpZighdGVsZXBob25lKXtcclxuICAgICAgICAgICAgbWVzc2FnZUJveC5zaG93SW5mbyhcIuivt+i+k+WFpeaJi+acuuWPt+eggVwiKVxyXG4gICAgICAgIH0gZWxzZXtcclxuICAgICAgICAgICAgbXlhamF4LmdldCh7XHJcbiAgICAgICAgICAgICAgICAndXJsJzogJy94c2F1dGgvc21zX2NhcHRjaGEvJyxcclxuICAgICAgICAgICAgICAgICdkYXRhJzoge1xyXG4gICAgICAgICAgICAgICAgICAgICd0ZWxlcGhvbmUnOiB0ZWxlcGhvbmVcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAnc3VjY2Vzcyc6IGZ1bmN0aW9uKHJlc3VsdCl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYocmVzdWx0W1wiY29kZVwiXSA9PT0gMjAwKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zbXNTdWNjZXNzRXZlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvZGUgPSByZXN1bHRbJ2RhdGEnXVsnY29kZSddO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dFNtc0NvZGUudmFsKGNvZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhjb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgJ2ZhaWwnOiBmdW5jdGlvbihlcnJvcil7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxufTtcclxuXHJcbi8vIOebkeWQrOazqOWGjOS6i+S7tlxyXG5BdXRoLnByb3RvdHlwZS5saXN0ZW5TaWduVXBFdmVudCA9IGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgc2lnblVwR3JvdXAgPSAkKCcuc2lnbnVwLWdyb3VwJylcclxuICAgIHZhciB0ZWxlcGhvbmVJbnB1dCA9IHNpZ25VcEdyb3VwLmZpbmQoXCJpbnB1dFtuYW1lPSd0ZWxlcGhvbmUnXVwiKVxyXG4gICAgdmFyIHVzZXJuYW1lSW5wdXQgPSBzaWduVXBHcm91cC5maW5kKFwiaW5wdXRbbmFtZT0ndXNlcm5hbWUnXVwiKVxyXG4gICAgdmFyIGltZ0NhcHRjaGFJbnB1dCA9IHNpZ25VcEdyb3VwLmZpbmQoXCJpbnB1dFtuYW1lPSdpbWdfY2FwdGNoYSddXCIpXHJcbiAgICB2YXIgcGFzc3dvcmQxSW5wdXQgPSBzaWduVXBHcm91cC5maW5kKFwiaW5wdXRbbmFtZT0ncGFzc3dvcmQxJ11cIilcclxuICAgIHZhciBwYXNzd29yZDJJbnB1dCA9IHNpZ25VcEdyb3VwLmZpbmQoXCJpbnB1dFtuYW1lPSdwYXNzd29yZDInXVwiKVxyXG4gICAgdmFyIHNtc0NhcHRjaGFJbnB1dCA9IHNpZ25VcEdyb3VwLmZpbmQoXCJpbnB1dFtuYW1lPSdzbXNfY2FwdGNoYSddXCIpXHJcblxyXG4gICAgdmFyIHN1Ym1pdEJ0biA9IHNpZ25VcEdyb3VwLmZpbmQoXCIuc3VibWl0LWJ0blwiKVxyXG4gICAgc3VibWl0QnRuLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgdmFyIHRlbGVwaG9uZSA9IHRlbGVwaG9uZUlucHV0LnZhbCgpXHJcbiAgICAgICAgdmFyIHVzZXJuYW1lID0gdXNlcm5hbWVJbnB1dC52YWwoKVxyXG4gICAgICAgIHZhciBpbWdfY2FwdGNoYSA9IGltZ0NhcHRjaGFJbnB1dC52YWwoKVxyXG4gICAgICAgIHZhciBwYXNzd29yZDEgPSBwYXNzd29yZDFJbnB1dC52YWwoKVxyXG4gICAgICAgIHZhciBwYXNzd29yZDIgPSBwYXNzd29yZDJJbnB1dC52YWwoKVxyXG4gICAgICAgIHZhciBzbXNfY2FwdGNoYSA9IHNtc0NhcHRjaGFJbnB1dC52YWwoKVxyXG5cclxuICAgICAgICBteWFqYXgucG9zdCh7XHJcbiAgICAgICAgICAgICd1cmwnOiAnL3hzYXV0aC9yZWdpc3Rlci8nLFxyXG4gICAgICAgICAgICAnZGF0YSc6IHtcclxuICAgICAgICAgICAgICAgICd0ZWxlcGhvbmUnOiB0ZWxlcGhvbmUsXHJcbiAgICAgICAgICAgICAgICAndXNlcm5hbWUnOiB1c2VybmFtZSxcclxuICAgICAgICAgICAgICAgICdpbWdfY2FwdGNoYSc6IGltZ19jYXB0Y2hhLFxyXG4gICAgICAgICAgICAgICAgJ3Bhc3N3b3JkMSc6IHBhc3N3b3JkMSxcclxuICAgICAgICAgICAgICAgICdwYXNzd29yZDInOiBwYXNzd29yZDIsXHJcbiAgICAgICAgICAgICAgICAnc21zX2NhcHRjaGEnOiBzbXNfY2FwdGNoYVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnc3VjY2Vzcyc6IGZ1bmN0aW9uKHJlc3VsdCl7XHJcbiAgICAgICAgICAgICAgICBpZihyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKXtcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG59O1xyXG5cclxuXHJcbkF1dGgucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uKCl7XHJcbiAgICB0aGlzLmxpc3RlblNob3dIaWRlRXZlbnQoKVxyXG4gICAgdGhpcy5saXN0ZW5Td2l0Y2hFdmVudCgpXHJcbiAgICB0aGlzLmxpc3RlblNpZ25JbkV2ZW50KClcclxuICAgIHRoaXMubGlzdGVuSW1nQ2FwdGNoYUV2ZW50KClcclxuICAgIHRoaXMubGlzdGVuU21zQ2FwdGNoYUV2ZW50KClcclxuICAgIHRoaXMubGlzdGVuU2lnblVwRXZlbnQoKVxyXG59O1xyXG5cclxuXHJcbiQoZnVuY3Rpb24oKXtcclxuICAgIHZhciBhdXRoID0gbmV3IEF1dGgoKVxyXG4gICAgYXV0aC5ydW4oKVxyXG59KTsiXX0=
